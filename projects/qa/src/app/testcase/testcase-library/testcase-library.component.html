
<div *ngIf="showLibraryTree" class="library-col">
    <div class="d-flex">
        <span class="user-story-number flex-grow-1">Library</span>
        <button class="library-collapse-button" (click)="toggleLibraryTree()">
            <i [ngClass]="{'icon-right':showLibraryTree, 'icon-left':!showLibraryTree}"></i>
            <i [ngClass]="{'icon-left':showLibraryTree, 'icon-right':!showLibraryTree}"></i>
        </button>
    </div>
    <div class="tree-container px-2 pt-2">
      <perfect-scrollbar style="height: calc(100vh - 100px)">
        <p-tree [value]="tree"
                 selectionMode="single"
                 (onNodeExpand)="nodeExpand($event)"
                 (onNodeSelect)="nodeEvent($event)"
                 [(selection)]="selectedNode"
                 [contextMenu]="cm"
                 [draggableNodes]="true"
                 [droppableNodes]="true"
                 draggableScope="self"
                 droppableScope="self"
                 (onNodeDrop)="onDrop($event)"


                ></p-tree>
      </perfect-scrollbar>
        <p-contextMenu #cm [model]="items"
                           (onShow)="onShowContextMenu($event)"></p-contextMenu>


            <ng-template #mymodal let-modal>

                <div class="modal-header">

                    <h4 class="modal-title" id="modal-basic-title">{{status === 'CREATE_MODE'?'Add Folder':'Rename Folder'}}</h4>

                    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">

                        <span aria-hidden="true">Ã—</span>

                    </button>

                </div>

                <div class="modal-body">
                    <div class="label">Folder Name</div>
                    <input [(ngModel)]="folderName" type="text" class="create-test-run-form-control" />
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-dark"
                        (click)="addFolder();modal.dismiss('Cross click')">Add</button>

                </div>

            </ng-template>
    </div>
</div>
<ng-container *ngIf="!showLibraryTree">
    <div class="hidden-panel">
        <button class="library-collapse-button" (click)="toggleLibraryTree()">
            <i [ngClass]="{'icon-right':showLibraryTree, 'icon-left':!showLibraryTree}"></i>
            <i [ngClass]="{'icon-left':showLibraryTree, 'icon-right':!showLibraryTree}"></i>
        </button>
        <div class="hidden-panel-name-container">
            <div class="hidden-panel-name">Library</div>
        </div>
    </div>
</ng-container>

